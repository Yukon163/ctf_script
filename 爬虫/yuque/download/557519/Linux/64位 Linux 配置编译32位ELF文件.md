1. 确认主机为64位架构的内核，应该输出为amd64，执行：

```bash
dpkg --print-architecture
```

<font style="color:#333333;">2.      确认打开了多架构支持功能，应该输出为i386，执行：</font>

```bash
$ dpkg --print-foreign-architectures
```

<font style="color:#333333;">如果没有，则需要手动打开，依次执行：</font>

```bash
$ sudo dpkg --add-architecture i386
$ sudo apt-get update
$ sudo apt-get dist-upgrade
```

<font style="color:#333333;">3. 安装gcc multilab，执行：</font>

```bash
sudo apt-get install gcc-multilib g++-multilib  
```

```bash
ubuntu@ubuntu:~/Desktop$ sudo apt-get install gcc-multilib g++-multilib  
[sudo] password for ubuntu: 
Reading package lists... Done
Building dependency tree       
Reading state information... Done
The following additional packages will be installed:
  g++-9-multilib gcc-9-multilib lib32asan5 lib32atomic1 lib32gcc-9-dev
  lib32gomp1 lib32itm1 lib32quadmath0 lib32stdc++-9-dev lib32ubsan1
  libc6-dev-i386 libc6-dev-x32 libc6-x32 libx32asan5 libx32atomic1
  libx32gcc-9-dev libx32gcc-s1 libx32gcc1 libx32gomp1 libx32itm1
  libx32quadmath0 libx32stdc++-9-dev libx32stdc++6 libx32ubsan1
Suggested packages:
  lib32stdc++6-9-dbg libx32stdc++6-9-dbg
The following NEW packages will be installed:
  g++-9-multilib g++-multilib gcc-9-multilib gcc-multilib lib32asan5
  lib32atomic1 lib32gcc-9-dev lib32gomp1 lib32itm1 lib32quadmath0
  lib32stdc++-9-dev lib32ubsan1 libc6-dev-i386 libc6-dev-x32 libc6-x32
  libx32asan5 libx32atomic1 libx32gcc-9-dev libx32gcc-s1 libx32gcc1
  libx32gomp1 libx32itm1 libx32quadmath0 libx32stdc++-9-dev libx32stdc++6
  libx32ubsan1
0 upgraded, 26 newly installed, 0 to remove and 226 not upgraded.
Need to get 14.6 MB of archives.
After this operation, 85.0 MB of additional disk space will be used.
Do you want to continue? [Y/n] Y
Get:1 http://us.archive.ubuntu.com/ubuntu focal/main amd64 libc6-dev-i386 amd64 2.31-0ubuntu9 [1,902 kB]
Get:1 http://us.archive.ubuntu.com/ubuntu focal/main amd64 libc6-dev-i386 amd64 2.31-0ubuntu9 [1,902 kB]
Get:2 http://us.archive.ubuntu.com/ubuntu focal/main amd64 libc6-x32 amd64 2.31-0ubuntu9 [2,777 kB]
Get:3 http://us.archive.ubuntu.com/ubuntu focal/main amd64 libc6-dev-x32 amd64 2.31-0ubuntu9 [1,978 kB]
Get:4 http://us.archive.ubuntu.com/ubuntu focal/main amd64 libx32gcc-s1 amd64 10-20200411-0ubuntu1 [41.4 kB]
Get:5 http://us.archive.ubuntu.com/ubuntu focal/main amd64 lib32gomp1 amd64 10-20200411-0ubuntu1 [109 kB]
Get:6 http://us.archive.ubuntu.com/ubuntu focal/main amd64 libx32gomp1 amd64 10-20200411-0ubuntu1 [102 kB]
Get:7 http://us.archive.ubuntu.com/ubuntu focal/main amd64 lib32itm1 amd64 10-20200411-0ubuntu1 [28.3 kB]
Get:8 http://us.archive.ubuntu.com/ubuntu focal/main amd64 libx32itm1 amd64 10-20200411-0ubuntu1 [26.7 kB]
Get:9 http://us.archive.ubuntu.com/ubuntu focal/main amd64 lib32atomic1 amd64 10-20200411-0ubuntu1 [8,864 B]
Get:10 http://us.archive.ubuntu.com/ubuntu focal/main amd64 libx32atomic1 amd64 10-20200411-0ubuntu1 [9,288 B]
Get:11 http://us.archive.ubuntu.com/ubuntu focal/main amd64 lib32asan5 amd64 9.3.0-10ubuntu2 [411 kB]
Get:12 http://us.archive.ubuntu.com/ubuntu focal/main amd64 libx32asan5 amd64 9.3.0-10ubuntu2 [387 kB]
Get:13 http://us.archive.ubuntu.com/ubuntu focal/main amd64 lib32ubsan1 amd64 10-20200411-0ubuntu1 [153 kB]
Get:14 http://us.archive.ubuntu.com/ubuntu focal/main amd64 libx32gcc1 amd64 1:10-20200411-0ubuntu1 [996 B]
Get:15 http://us.archive.ubuntu.com/ubuntu focal/main amd64 libx32stdc++6 amd64 10-20200411-0ubuntu1 [486 kB]
Get:16 http://us.archive.ubuntu.com/ubuntu focal/main amd64 libx32ubsan1 amd64 10-20200411-0ubuntu1 [137 kB]
Get:17 http://us.archive.ubuntu.com/ubuntu focal/main amd64 lib32quadmath0 amd64 10-20200411-0ubuntu1 [231 kB]
Get:18 http://us.archive.ubuntu.com/ubuntu focal/main amd64 libx32quadmath0 amd64 10-20200411-0ubuntu1 [149 kB]
Get:19 http://us.archive.ubuntu.com/ubuntu focal/main amd64 lib32gcc-9-dev amd64 9.3.0-10ubuntu2 [2,225 kB]
Get:20 http://us.archive.ubuntu.com/ubuntu focal/main amd64 libx32gcc-9-dev amd64 9.3.0-10ubuntu2 [2,008 kB]
Get:21 http://us.archive.ubuntu.com/ubuntu focal/main amd64 gcc-9-multilib amd64 9.3.0-10ubuntu2 [1,056 B]
Get:22 http://us.archive.ubuntu.com/ubuntu focal/main amd64 lib32stdc++-9-dev amd64 9.3.0-10ubuntu2 [762 kB]
Get:23 http://us.archive.ubuntu.com/ubuntu focal/main amd64 libx32stdc++-9-dev amd64 9.3.0-10ubuntu2 [710 kB]
Get:24 http://us.archive.ubuntu.com/ubuntu focal/main amd64 g++-9-multilib amd64 9.3.0-10ubuntu2 [1,080 B]
Get:25 http://us.archive.ubuntu.com/ubuntu focal/main amd64 gcc-multilib amd64 4:9.3.0-1ubuntu2 [1,516 B]
Get:26 http://us.archive.ubuntu.com/ubuntu focal/main amd64 g++-multilib amd64 4:9.3.0-1ubuntu2 [1,044 B]
Fetched 14.2 MB in 3min 44s (63.4 kB/s)                                        
Selecting previously unselected package libc6-dev-i386.
(Reading database ... 187882 files and directories currently installed.)
Preparing to unpack .../00-libc6-dev-i386_2.31-0ubuntu9_amd64.deb ...
Unpacking libc6-dev-i386 (2.31-0ubuntu9) ...
Selecting previously unselected package libc6-x32.
Preparing to unpack .../01-libc6-x32_2.31-0ubuntu9_amd64.deb ...
Unpacking libc6-x32 (2.31-0ubuntu9) ...
Selecting previously unselected package libc6-dev-x32.
Preparing to unpack .../02-libc6-dev-x32_2.31-0ubuntu9_amd64.deb ...
Unpacking libc6-dev-x32 (2.31-0ubuntu9) ...
Selecting previously unselected package libx32gcc-s1.
Preparing to unpack .../03-libx32gcc-s1_10-20200411-0ubuntu1_amd64.deb ...
Unpacking libx32gcc-s1 (10-20200411-0ubuntu1) ...
Selecting previously unselected package lib32gomp1.
Preparing to unpack .../04-lib32gomp1_10-20200411-0ubuntu1_amd64.deb ...
Unpacking lib32gomp1 (10-20200411-0ubuntu1) ...
Selecting previously unselected package libx32gomp1.
Preparing to unpack .../05-libx32gomp1_10-20200411-0ubuntu1_amd64.deb ...
Unpacking libx32gomp1 (10-20200411-0ubuntu1) ...
Selecting previously unselected package lib32itm1.
Preparing to unpack .../06-lib32itm1_10-20200411-0ubuntu1_amd64.deb ...
Unpacking lib32itm1 (10-20200411-0ubuntu1) ...
Selecting previously unselected package libx32itm1.
Preparing to unpack .../07-libx32itm1_10-20200411-0ubuntu1_amd64.deb ...
Unpacking libx32itm1 (10-20200411-0ubuntu1) ...
Selecting previously unselected package lib32atomic1.
Preparing to unpack .../08-lib32atomic1_10-20200411-0ubuntu1_amd64.deb ...
Unpacking lib32atomic1 (10-20200411-0ubuntu1) ...
Selecting previously unselected package libx32atomic1.
Preparing to unpack .../09-libx32atomic1_10-20200411-0ubuntu1_amd64.deb ...
Unpacking libx32atomic1 (10-20200411-0ubuntu1) ...
Selecting previously unselected package lib32asan5.
Preparing to unpack .../10-lib32asan5_9.3.0-10ubuntu2_amd64.deb ...
Unpacking lib32asan5 (9.3.0-10ubuntu2) ...
Selecting previously unselected package libx32asan5.
Preparing to unpack .../11-libx32asan5_9.3.0-10ubuntu2_amd64.deb ...
Unpacking libx32asan5 (9.3.0-10ubuntu2) ...
Selecting previously unselected package lib32ubsan1.
Preparing to unpack .../12-lib32ubsan1_10-20200411-0ubuntu1_amd64.deb ...
Unpacking lib32ubsan1 (10-20200411-0ubuntu1) ...
Selecting previously unselected package libx32gcc1.
Preparing to unpack .../13-libx32gcc1_1%3a10-20200411-0ubuntu1_amd64.deb ...
Unpacking libx32gcc1 (1:10-20200411-0ubuntu1) ...
Selecting previously unselected package libx32stdc++6.
Preparing to unpack .../14-libx32stdc++6_10-20200411-0ubuntu1_amd64.deb ...
Unpacking libx32stdc++6 (10-20200411-0ubuntu1) ...
Selecting previously unselected package libx32ubsan1.
Preparing to unpack .../15-libx32ubsan1_10-20200411-0ubuntu1_amd64.deb ...
Unpacking libx32ubsan1 (10-20200411-0ubuntu1) ...
Selecting previously unselected package lib32quadmath0.
Preparing to unpack .../16-lib32quadmath0_10-20200411-0ubuntu1_amd64.deb ...
Unpacking lib32quadmath0 (10-20200411-0ubuntu1) ...
Selecting previously unselected package libx32quadmath0.
Preparing to unpack .../17-libx32quadmath0_10-20200411-0ubuntu1_amd64.deb ...
Unpacking libx32quadmath0 (10-20200411-0ubuntu1) ...
Selecting previously unselected package lib32gcc-9-dev.
Preparing to unpack .../18-lib32gcc-9-dev_9.3.0-10ubuntu2_amd64.deb ...
Unpacking lib32gcc-9-dev (9.3.0-10ubuntu2) ...
Selecting previously unselected package libx32gcc-9-dev.
Preparing to unpack .../19-libx32gcc-9-dev_9.3.0-10ubuntu2_amd64.deb ...
Unpacking libx32gcc-9-dev (9.3.0-10ubuntu2) ...
Selecting previously unselected package gcc-9-multilib.
Preparing to unpack .../20-gcc-9-multilib_9.3.0-10ubuntu2_amd64.deb ...
Unpacking gcc-9-multilib (9.3.0-10ubuntu2) ...
Selecting previously unselected package lib32stdc++-9-dev.
Preparing to unpack .../21-lib32stdc++-9-dev_9.3.0-10ubuntu2_amd64.deb ...
Unpacking lib32stdc++-9-dev (9.3.0-10ubuntu2) ...
Selecting previously unselected package libx32stdc++-9-dev.
Preparing to unpack .../22-libx32stdc++-9-dev_9.3.0-10ubuntu2_amd64.deb ...
Unpacking libx32stdc++-9-dev (9.3.0-10ubuntu2) ...
Selecting previously unselected package g++-9-multilib.
Preparing to unpack .../23-g++-9-multilib_9.3.0-10ubuntu2_amd64.deb ...
Unpacking g++-9-multilib (9.3.0-10ubuntu2) ...
Selecting previously unselected package gcc-multilib.
Preparing to unpack .../24-gcc-multilib_4%3a9.3.0-1ubuntu2_amd64.deb ...
Unpacking gcc-multilib (4:9.3.0-1ubuntu2) ...
Selecting previously unselected package g++-multilib.
Preparing to unpack .../25-g++-multilib_4%3a9.3.0-1ubuntu2_amd64.deb ...
Unpacking g++-multilib (4:9.3.0-1ubuntu2) ...
Setting up libc6-dev-i386 (2.31-0ubuntu9) ...
Setting up lib32itm1 (10-20200411-0ubuntu1) ...
Setting up lib32ubsan1 (10-20200411-0ubuntu1) ...
Setting up libc6-x32 (2.31-0ubuntu9) ...
Setting up libc6-dev-x32 (2.31-0ubuntu9) ...
Setting up lib32gomp1 (10-20200411-0ubuntu1) ...
Setting up libx32gomp1 (10-20200411-0ubuntu1) ...
Setting up lib32quadmath0 (10-20200411-0ubuntu1) ...
Setting up libx32quadmath0 (10-20200411-0ubuntu1) ...
Setting up lib32asan5 (9.3.0-10ubuntu2) ...
Setting up lib32atomic1 (10-20200411-0ubuntu1) ...
Setting up libx32atomic1 (10-20200411-0ubuntu1) ...
Setting up libx32gcc-s1 (10-20200411-0ubuntu1) ...
Setting up libx32itm1 (10-20200411-0ubuntu1) ...
Setting up libx32asan5 (9.3.0-10ubuntu2) ...
Setting up libx32gcc1 (1:10-20200411-0ubuntu1) ...
Setting up libx32stdc++6 (10-20200411-0ubuntu1) ...
Setting up libx32ubsan1 (10-20200411-0ubuntu1) ...
Setting up lib32gcc-9-dev (9.3.0-10ubuntu2) ...
Setting up libx32gcc-9-dev (9.3.0-10ubuntu2) ...
Setting up lib32stdc++-9-dev (9.3.0-10ubuntu2) ...
Setting up libx32stdc++-9-dev (9.3.0-10ubuntu2) ...
Setting up gcc-9-multilib (9.3.0-10ubuntu2) ...
Setting up gcc-multilib (4:9.3.0-1ubuntu2) ...
Setting up g++-9-multilib (9.3.0-10ubuntu2) ...
Setting up g++-multilib (4:9.3.0-1ubuntu2) ...
Processing triggers for libc-bin (2.31-0ubuntu9) ...
ubuntu@ubuntu:~/Desktop$ 

```

执行完之后，测试一下

```bash
gcc test.c -m32
```

> 注：上面的命令执行完之后会生成.out可执行文件，且文件保护全开
>

可执行文件保护请参考：

[https://www.yuque.com/cyberangel/rg9gdm/yfrste](https://www.yuque.com/cyberangel/rg9gdm/yfrste)



